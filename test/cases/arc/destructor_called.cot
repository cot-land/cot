// Destructor calling test
// EXPECT: exit_code=99
var destructor_called: i64 = 0

struct Tracer {
    value: i64
}

impl Tracer {
    fn deinit(self: *Tracer) {
        destructor_called = 99
    }
}

fn main() i64 {
    {
        let t = new Tracer { value: 1 }
    }
    return destructor_called
}
