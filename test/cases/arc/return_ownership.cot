// Test that returning an owned value transfers ownership
// EXPECT: exit_code=42

struct Box {
    value: i64,
}

fn createBox() *Box {
    let box = new Box { value: 42 }
    return box  // Transfer ownership to caller, don't release here
}

fn main() i64 {
    let box = createBox()
    return box.value
}
