struct Point {
    x: i64,
    y: i64
}

struct Data {
    value: i64,
    flag: i64
}

struct Counter {
    count: i64
}

struct Inner {
    value: i64
}

struct Outer {
    inner: Inner,
    extra: i64
}

test "simple" {
    let pt = Point { .x = 5, .y = 10 }
    @assert_eq(pt.x + pt.y, 15)
}

test "field access" {
    let d = Data { .value = 42, .flag = 1 }
    @assert_eq(d.value, 42)
}

test "field update" {
    var c = Counter { .count = 50 }
    c.count *= 2
    @assert_eq(c.count, 100)
}

test "pass to fn" {
    let pt = Point { .x = 10, .y = 16 }
    @assert_eq(pt.x + pt.y, 26)
}

test "nested" {
    let inner = Inner { .value = 6 }
    let o = Outer { .inner = inner, .extra = 10 }
    @assert_eq(o.inner.value, 6)
}
