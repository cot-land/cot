struct CsPoint {
    x: i64,
    y: i64
}

struct Data {
    value: i64,
    flag: i64
}

struct CsCounter {
    count: i64
}

struct CsInner {
    value: i64
}

struct CsOuter {
    inner: CsInner,
    extra: i64
}

test "struct simple" {
    var pt = CsPoint { .x = 5, .y = 10 }
    @assertEq(pt.x + pt.y, 15)
}

test "field access" {
    var d = Data { .value = 42, .flag = 1 }
    @assertEq(d.value, 42)
}

test "field update" {
    var c = CsCounter { .count = 50 }
    c.count *= 2
    @assertEq(c.count, 100)
}

test "pass to fn" {
    var pt = CsPoint { .x = 10, .y = 16 }
    @assertEq(pt.x + pt.y, 26)
}

test "nested" {
    var inner = CsInner { .value = 6 }
    var o = CsOuter { .inner = inner, .extra = 10 }
    @assertEq(o.inner.value, 6)
}
